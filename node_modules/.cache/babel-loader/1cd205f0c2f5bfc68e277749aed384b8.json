{"ast":null,"code":"import _defineProperty from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/formulairecompte.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport previous from \"./Icones_Arigoni/previous.svg\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./formulairecompte.css\";\n\nvar Formulairecompte =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Formulairecompte, _Component);\n\n  function Formulairecompte() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Formulairecompte);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Formulairecompte)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      titre: \"\",\n      nom: \"\",\n      prenom: \"\",\n      num_rue: \"\",\n      libelle_rue: \"\",\n      code_postal: \"\",\n      ville: \"\",\n      tel: \"\",\n      fax: \"\",\n      mail: \"\",\n      num_TVA: \"\",\n      file: \"\"\n    };\n\n    _this.onFormSubmitSignature = function (e) {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"signature\", _this.state.file);\n      console.log(formData);\n      var config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\"\n        }\n      };\n      Axios.post(\"http://localhost:4848/dashboard/signature\", formData, config).then(function (response) {\n        alert(\"Le fichier a été téléchargé avec succès\");\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.onFormSubmitEntete = function (e) {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"entete\", _this.state.file);\n      console.log(formData);\n      var config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\"\n        }\n      };\n      Axios.post(\"http://localhost:4848/dashboard/entete\", formData, config).then(function (response) {\n        alert(\"Le fichier a été téléchargé avec succès\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.onChange = function (e) {\n      _this.setState({\n        file: e.target.files[0]\n      }); // setTimeout(this.onFormSubmitSignature(), 5000);\n\n    };\n\n    _this.handleChange = function (id) {\n      var myId = id;\n      confirmAlert({\n        title: \"Merci de confirmer\",\n        message: \"Voulez-vous vraiment modifier les informations de votre cabinet d'avocat ?\",\n        buttons: [{\n          label: \"Oui\",\n          onClick: function onClick() {\n            return Axios.put(\"http://localhost:4848/api/cabinet/\".concat(myId), _this.state).then(function (response) {\n              // this.reloadNow(myId);\n              _this.props.pageChangeSub(\"Compte\"); // this.props.history.push(\"/dashboard/moncompte\");\n\n\n              alert(\"Vos informations ont bien \\xE9t\\xE9 modifi\\xE9es.\");\n              console.log(response);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        }, {\n          label: \"Non\" // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n\n        }]\n      });\n    };\n\n    _this.handleMyUserInputs = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(Formulairecompte, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Axios.get(\"http://www.localhost:4848/api/cabinet\").then(function (response) {\n        _this2.setState({\n          data: response.data[0]\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var infosCompte = this.state.data;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \" \", React.createElement(NavLink, {\n        to: \"/dashboard/moncompte\",\n        onClick: function onClick() {\n          return _this3.props.pageChangeSub(\"Compte\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"previousbutton ml4\",\n        src: previous,\n        alt: \"previous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"fl w-100 pt3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fl w-60 pl4 enlarge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"f2 db lh-copy \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Les informations de mon cabinet\"), React.createElement(\"div\", {\n        className: \"mglft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fl w-40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pt3 div_inputleft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Titre:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Nom:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Pr\\xE9nom:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Num\\xE9ro de rue:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Libell\\xE9 de rue:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Code postal:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Ville:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Tel:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Fax:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"span\", {\n        className: \"db pr3 inputleft mtInfo nowrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Num\\xE9ro de TVA:\"))), React.createElement(\"div\", {\n        className: \"fl w-60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pt3 pb3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"infos \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"titre\",\n        placeholder: \"Titre\",\n        className: \"db mt3\",\n        value: this.state.titre || infosCompte.titre,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"nom\",\n        placeholder: \"Nom\",\n        className: \"db mt3\",\n        value: this.state.nom || infosCompte.nom,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"prenom\",\n        placeholder: \"Pr\\xE9nom\",\n        className: \"db mt3\",\n        value: this.state.prenom || infosCompte.prenom,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"num_rue\",\n        placeholder: \"Num\\xE9ro de rue\",\n        className: \"db mt3\",\n        value: this.state.num_rue || infosCompte.num_rue,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"libelle_rue\",\n        placeholder: \"Libell\\xE9 de rue\",\n        className: \"db mt3\",\n        value: this.state.libelle_rue || infosCompte.libelle_rue,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"code_postal\",\n        placeholder: \"Code postal\",\n        className: \"db mt3\",\n        value: this.state.code_postal || infosCompte.code_postal,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"ville\",\n        placeholder: \"Ville\",\n        className: \"db mt3\",\n        value: this.state.ville || infosCompte.ville,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"tel\",\n        placeholder: \"Tel\",\n        className: \"db mt3\",\n        value: this.state.tel || infosCompte.tel,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"fax\",\n        placeholder: \"Fax\",\n        className: \"db mt3\",\n        value: this.state.fax || infosCompte.fax,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"mail\",\n        placeholder: \"Email\",\n        className: \"db mt3\",\n        value: this.state.mail || infosCompte.mail,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"num_TVA\",\n        placeholder: \"Num\\xE9ro de TVA\",\n        className: \"db mt3\",\n        value: this.state.num_TVA || infosCompte.num_TVA,\n        onChange: this.handleMyUserInputs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"pt4 sauvegarderbouton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"f6 link dim br1 ph3 pv2 mt2 mb4 dib white bg-dark-blue btn-save\",\n        href: \"#0\",\n        onClick: function onClick() {\n          return _this3.handleChange(infosCompte.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Sauvegarder\")))));\n    }\n  }]);\n\n  return Formulairecompte;\n}(Component);\n\nexport default Formulairecompte;","map":{"version":3,"sources":["/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/formulairecompte.js"],"names":["React","Component","Axios","confirmAlert","NavLink","Formulairecompte","state","data","titre","nom","prenom","num_rue","libelle_rue","code_postal","ville","tel","fax","mail","num_TVA","file","onFormSubmitSignature","e","preventDefault","formData","FormData","append","console","log","config","headers","post","then","response","alert","catch","error","onFormSubmitEntete","onChange","setState","target","files","handleChange","id","myId","title","message","buttons","label","onClick","put","props","pageChangeSub","handleMyUserInputs","name","value","get","infosCompte","previous"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport previous from \"./Icones_Arigoni/previous.svg\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./formulairecompte.css\";\n\nclass Formulairecompte extends Component {\n  state = {\n    data: [],\n    titre: \"\",\n    nom: \"\",\n    prenom: \"\",\n    num_rue: \"\",\n    libelle_rue: \"\",\n    code_postal: \"\",\n    ville: \"\",\n    tel: \"\",\n    fax: \"\",\n    mail: \"\",\n    num_TVA: \"\",\n    file: \"\"\n  };\n\n  onFormSubmitSignature = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"signature\", this.state.file);\n    console.log(formData);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    Axios.post(\"http://localhost:4848/dashboard/signature\", formData, config)\n      .then(response => {\n        alert(\"Le fichier a été téléchargé avec succès\");\n        console.log(response);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onFormSubmitEntete = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"entete\", this.state.file);\n    console.log(formData);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    Axios.post(\"http://localhost:4848/dashboard/entete\", formData, config)\n      .then(response => {\n        alert(\"Le fichier a été téléchargé avec succès\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onChange = e => {\n    this.setState({ file: e.target.files[0] });\n    // setTimeout(this.onFormSubmitSignature(), 5000);\n  };\n\n  // reloadNow = () => {\n  //   Axios.get(\"http://www.localhost:4848/api/cabinet\")\n  //     .then(response => {\n  //       this.setState({\n  //         data: response.data[0]\n  //       });\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n  // };\n\n  handleChange = id => {\n    const myId = id;\n    confirmAlert({\n      title: \"Merci de confirmer\",\n      message:\n        \"Voulez-vous vraiment modifier les informations de votre cabinet d'avocat ?\",\n      buttons: [\n        {\n          label: \"Oui\",\n          onClick: () =>\n            Axios.put(`http://localhost:4848/api/cabinet/${myId}`, this.state)\n              .then(response => {\n                // this.reloadNow(myId);\n                this.props.pageChangeSub(\"Compte\");\n                // this.props.history.push(\"/dashboard/moncompte\");\n                alert(`Vos informations ont bien été modifiées.`);\n                console.log(response);\n              })\n              .catch(error => {\n                console.log(error);\n              })\n        },\n        {\n          label: \"Non\"\n          // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n        }\n      ]\n    });\n  };\n\n  handleMyUserInputs = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  componentDidMount() {\n    Axios.get(\"http://www.localhost:4848/api/cabinet\")\n      .then(response => {\n        this.setState({\n          data: response.data[0]\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  render() {\n    const infosCompte = this.state.data;\n    return (\n      <div>\n        {\" \"}\n        <NavLink\n          to=\"/dashboard/moncompte\"\n          onClick={() => this.props.pageChangeSub(\"Compte\")}\n        >\n          <img className=\"previousbutton ml4\" src={previous} alt=\"previous\" />\n        </NavLink>\n        <div className=\"fl w-100 pt3\">\n          <div className=\"fl w-60 pl4 enlarge\">\n            <h1 className=\"f2 db lh-copy \">Les informations de mon cabinet</h1>\n            <div className=\"mglft\">\n              <div className=\"fl w-40\">\n                <div className=\"pt3 div_inputleft\">\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Titre:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Nom:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">\n                    Prénom:\n                  </span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">\n                    Numéro de rue:\n                  </span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">\n                    Libellé de rue:\n                  </span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">\n                    Code postal:\n                  </span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Ville:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Tel:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Fax:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">Email:</span>\n                  <span className=\"db pr3 inputleft mtInfo nowrap\">\n                    Numéro de TVA:\n                  </span>\n                </div>\n              </div>\n\n              {/* Fomulaires avec input */}\n              <div className=\"fl w-60\">\n                <div className=\"pt3 pb3\">\n                  <form action=\"infos \">\n                    <input\n                      type=\"text\"\n                      name=\"titre\"\n                      placeholder=\"Titre\"\n                      className=\"db mt3\"\n                      value={this.state.titre || infosCompte.titre}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"nom\"\n                      placeholder=\"Nom\"\n                      className=\"db mt3\"\n                      value={this.state.nom || infosCompte.nom}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"prenom\"\n                      placeholder=\"Prénom\"\n                      className=\"db mt3\"\n                      value={this.state.prenom || infosCompte.prenom}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"num_rue\"\n                      placeholder=\"Numéro de rue\"\n                      className=\"db mt3\"\n                      value={this.state.num_rue || infosCompte.num_rue}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"libelle_rue\"\n                      placeholder=\"Libellé de rue\"\n                      className=\"db mt3\"\n                      value={this.state.libelle_rue || infosCompte.libelle_rue}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"code_postal\"\n                      placeholder=\"Code postal\"\n                      className=\"db mt3\"\n                      value={this.state.code_postal || infosCompte.code_postal}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"ville\"\n                      placeholder=\"Ville\"\n                      className=\"db mt3\"\n                      value={this.state.ville || infosCompte.ville}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"tel\"\n                      placeholder=\"Tel\"\n                      className=\"db mt3\"\n                      value={this.state.tel || infosCompte.tel}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"fax\"\n                      placeholder=\"Fax\"\n                      className=\"db mt3\"\n                      value={this.state.fax || infosCompte.fax}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"mail\"\n                      placeholder=\"Email\"\n                      className=\"db mt3\"\n                      value={this.state.mail || infosCompte.mail}\n                      onChange={this.handleMyUserInputs}\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"num_TVA\"\n                      placeholder=\"Numéro de TVA\"\n                      className=\"db mt3\"\n                      value={this.state.num_TVA || infosCompte.num_TVA}\n                      onChange={this.handleMyUserInputs}\n                    />\n                  </form>\n                </div>\n              </div>\n            </div>\n\n            {/* Bouton sauvegarder */}\n            <div className=\"pt4 sauvegarderbouton\">\n              <a\n                className=\"f6 link dim br1 ph3 pv2 mt2 mb4 dib white bg-dark-blue btn-save\"\n                href=\"#0\"\n                onClick={() => this.handleChange(infosCompte.id)}\n              >\n                Sauvegarder\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Formulairecompte;\n"]},"metadata":{},"sourceType":"module"}