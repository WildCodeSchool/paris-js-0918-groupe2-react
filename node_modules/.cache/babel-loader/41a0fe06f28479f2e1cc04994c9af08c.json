{"ast":null,"code":"import _classCallCheck from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/Autosuggestcreanciers.js\";\nimport React, { Component } from \"react\";\nimport Autosuggest from \"react-autosuggest\";\n\nvar escapeRegexCharacters = function escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n};\n\nvar getSuggestions =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(value) {\n    var creanciers, escapedValue, regex;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            creanciers = [];\n            escapedValue = escapeRegexCharacters(value.trim());\n\n            if (!(escapedValue === \"\")) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", []);\n\n          case 4:\n            regex = new RegExp(\"^\" + escapedValue, \"i\");\n            return _context.abrupt(\"return\", creanciers.filter(function (creancier) {\n              return regex.test(creancier.denomination_sociale);\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getSuggestions(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getSuggestionValue = function getSuggestionValue(suggestion) {\n  return suggestion.denomination_sociale;\n};\n\nvar renderSuggestion = function renderSuggestion(suggestion) {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, suggestion.denomination_sociale);\n};\n\nvar Autosuggestcreanciers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Autosuggestcreanciers, _Component);\n\n  function Autosuggestcreanciers() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Autosuggestcreanciers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Autosuggestcreanciers)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      value: \"\",\n      suggestions: [],\n      creanciers: []\n    };\n\n    _this.setTheSuggestionState = function () {\n      _this.setState({\n        creanciers: _this.props.creanciers\n      });\n    };\n\n    _this.onChange = function (event, _ref2) {\n      var newValue = _ref2.newValue,\n          method = _ref2.method;\n\n      _this.setState({\n        value: newValue\n      });\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref3) {\n      var value = _ref3.value;\n\n      _this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: []\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Autosuggestcreanciers, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions;\n      var inputProps = {\n        placeholder: \"Entrer le nom d'un créancier\",\n        value: value,\n        onFocus: this.setTheSuggestionState,\n        onChange: this.onChange\n      };\n      return React.createElement(Autosuggest, {\n        suggestions: suggestions,\n        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n        getSuggestionValue: getSuggestionValue,\n        renderSuggestion: renderSuggestion,\n        inputProps: inputProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Autosuggestcreanciers;\n}(Component);\n\nexport default Autosuggestcreanciers;","map":{"version":3,"sources":["/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/Autosuggestcreanciers.js"],"names":["React","Component","Autosuggest","escapeRegexCharacters","str","replace","getSuggestions","value","creanciers","escapedValue","trim","regex","RegExp","filter","creancier","test","denomination_sociale","getSuggestionValue","suggestion","renderSuggestion","Autosuggestcreanciers","state","suggestions","setTheSuggestionState","setState","props","onChange","event","newValue","method","onSuggestionsFetchRequested","onSuggestionsClearRequested","inputProps","placeholder","onFocus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Autosuggest from \"react-autosuggest\";\n\nconst escapeRegexCharacters = str => {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n};\n\nconst getSuggestions = async value => {\n  const creanciers = [];\n  const escapedValue = escapeRegexCharacters(value.trim());\n  if (escapedValue === \"\") {\n    return [];\n  }\n  const regex = new RegExp(\"^\" + escapedValue, \"i\");\n  return creanciers.filter(creancier =>\n    regex.test(creancier.denomination_sociale)\n  );\n};\n\nconst getSuggestionValue = suggestion => {\n  return suggestion.denomination_sociale;\n};\n\nconst renderSuggestion = suggestion => {\n  return <span>{suggestion.denomination_sociale}</span>;\n};\n\nclass Autosuggestcreanciers extends Component {\n  state = {\n    value: \"\",\n    suggestions: [],\n    creanciers: []\n  };\n\n  setTheSuggestionState = () => {\n    this.setState({\n      creanciers: this.props.creanciers\n    });\n  };\n\n  onChange = (event, { newValue, method }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"Entrer le nom d'un créancier\",\n      value,\n      onFocus: this.setTheSuggestionState,\n      onChange: this.onChange\n    };\n\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        inputProps={inputProps}\n      />\n    );\n  }\n}\n\nexport default Autosuggestcreanciers;\n"]},"metadata":{},"sourceType":"module"}